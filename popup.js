"use strict";let lightMode1=document.getElementById("lightMode1");lightMode1.onchange=function(e){showMessage(),_gaq.push(["_trackEvent","lightMode1","changed"]),chrome.tabs.query({active:!0,currentWindow:!0},function(t){chrome.storage.sync.get("lightMode1Sites",function(o){var n=t[0].url,d=n.substring(n.lastIndexOf("//")+2,n.indexOf("/",8)),c=o.lightMode1Sites;e.target.checked?(chrome.tabs.executeScript(null,{file:"lightMode1.js"}),c.push(d),chrome.storage.sync.set({lightMode1Sites:c}),document.getElementById("lightMode1Text").textContent="off"):(c=c.filter(e=>e!==d),chrome.storage.sync.set({lightMode1Sites:c}),document.getElementById("lightMode1Text").textContent="on"),lightMode2.checked&&(document.getElementById("lightMode2").checked=!1,document.getElementById("lightMode2Text").textContent="on",chrome.storage.sync.get("lightMode2Sites",function(e){let t=e.lightMode2Sites;t=t.filter(e=>e!==d),chrome.storage.sync.set({lightMode2Sites:t})})),darkMode.checked&&(document.getElementById("darkMode").checked=!1,document.getElementById("darkModeText").textContent="on",chrome.storage.sync.get("darkModeSites",function(e){let t=e.darkModeSites;t=t.filter(e=>e!==d),chrome.storage.sync.set({darkModeSites:t})}))})})};let lightMode2=document.getElementById("lightMode2");lightMode2.onchange=function(e){showMessage(),_gaq.push(["_trackEvent","lightMode2","changed"]),chrome.tabs.query({active:!0,currentWindow:!0},function(t){chrome.storage.sync.get("lightMode2Sites",function(o){var n=t[0].url,d=n.substring(n.lastIndexOf("//")+2,n.indexOf("/",8)),c=o.lightMode2Sites;e.target.checked?(chrome.tabs.executeScript(null,{file:"lightMode2.js"}),c.push(d),chrome.storage.sync.set({lightMode2Sites:c}),document.getElementById("lightMode2Text").textContent="off"):(c=c.filter(e=>e!==d),chrome.storage.sync.set({lightMode2Sites:c}),document.getElementById("lightMode2Text").textContent="on"),lightMode1.checked&&(document.getElementById("lightMode1").checked=!1,document.getElementById("lightMode1Text").textContent="on",chrome.storage.sync.get("lightMode1Sites",function(e){let t=e.lightMode1Sites;t=t.filter(e=>e!==d),chrome.storage.sync.set({lightMode1Sites:t})})),darkMode.checked&&(document.getElementById("darkMode").checked=!1,document.getElementById("darkModeText").textContent="on",chrome.storage.sync.get("darkModeSites",function(e){let t=e.darkModeSites;t=t.filter(e=>e!==d),chrome.storage.sync.set({darkModeSites:t})}))})})};let darkMode=document.getElementById("darkMode");function initState(){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.get("lightMode1Sites",function(t){var o=e[0].url,n=o.substring(o.lastIndexOf("//")+2,o.indexOf("/",8));t.lightMode1Sites.includes(n)&&(document.getElementById("lightMode1").checked=!0,document.getElementById("lightMode1Text").textContent="off")})}),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.get("lightMode2Sites",function(t){var o=e[0].url,n=o.substring(o.lastIndexOf("//")+2,o.indexOf("/",8));t.lightMode2Sites.includes(n)&&(document.getElementById("lightMode2").checked=!0,document.getElementById("lightMode2Text").textContent="off")})}),chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.storage.sync.get("darkModeSites",function(t){var o=e[0].url,n=o.substring(o.lastIndexOf("//")+2,o.indexOf("/",8));t.darkModeSites.includes(n)&&(document.getElementById("darkMode").checked=!0,document.getElementById("darkModeText").textContent="off")})})}function showMessage(){document.querySelector(".message").classList.add("message-visible"),document.querySelector(".message__link").onclick=function(){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.update(e[0].id,{url:e[0].url}),document.querySelector(".message").classList.remove("message-visible")})}}darkMode.onchange=function(e){showMessage(),_gaq.push(["_trackEvent","darkMode","changed"]),chrome.tabs.query({active:!0,currentWindow:!0},function(t){chrome.storage.sync.get("darkModeSites",function(o){var n=t[0].url,d=n.substring(n.lastIndexOf("//")+2,n.indexOf("/",8)),c=o.darkModeSites;e.target.checked?(chrome.tabs.executeScript(null,{file:"darkMode.js"}),c.push(d),chrome.storage.sync.set({darkModeSites:c}),document.getElementById("darkModeText").textContent="off"):(c=c.filter(e=>e!==d),chrome.storage.sync.set({darkModeSites:c}),document.getElementById("darkModeText").textContent="on"),lightMode1.checked&&(document.getElementById("lightMode1").checked=!1,document.getElementById("lightMode1Text").textContent="on",chrome.storage.sync.get("lightMode1Sites",function(e){let t=e.lightMode1Sites;t=t.filter(e=>e!==d),chrome.storage.sync.set({lightMode1Sites:t})})),lightMode2.checked&&(document.getElementById("lightMode2").checked=!1,document.getElementById("lightMode2Text").textContent="on",chrome.storage.sync.get("lightMode2Sites",function(e){let t=e.lightMode2Sites;t=t.filter(e=>e!==d),chrome.storage.sync.set({lightMode2Sites:t})}))})})},initState();var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-138501898-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ssl.google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),document.getElementsByClassName("insturctions")[0].addEventListener("click",function(){_gaq.push(["_trackEvent","instructions","clicked"])});